% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/econ_calc_trail_avg.R
\name{econ_calc_trail_avg}
\alias{econ_calc_trail_avg}
\title{Append trailing-average rows in long form to econanalyzr data frame}
\usage{
econ_calc_trail_avg(df, trail_amount)
}
\arguments{
\item{df}{An econanalyzr-valid tibble/data frame.}

\item{trail_amount}{Positive integer-like window size.}
}
\value{
A tibble containing the original rows \strong{and} the trailing-average rows.
}
\description{
Computes a trailing (right-aligned) moving average of \code{value} and \strong{appends}
those rows to the original data (long form).
}
\details{
\itemize{
\item Input must pass \code{\link[=check_econanalyzr_df]{check_econanalyzr_df()}}.
\item \code{trail_amount} must be a positive, integer-ish scalar (e.g., 3L, 6).
\item If \code{df} is a \strong{grouped} tibble (via \code{dplyr::group_by()}), the trailing
average is computed \strong{within each group}. If ungrouped, it is computed
over the entire table.
\item Derived rows have \code{data_transform_text} appended with \code{"; Trail {n}"}.
\item Windows are \strong{right-aligned} with \code{.complete = TRUE}: the first
\code{trail_amount - 1} rows per group are \code{NA}.
}
}
